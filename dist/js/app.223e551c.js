(function(t){function e(e){for(var a,o,c=e[0],r=e[1],l=e[2],d=0,m=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,c=1;c<s.length;c++){var r=s[c];0!==n[r]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},n={app:0},i=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/time-tracker/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("85ec"),n=s.n(a);n.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper",attrs:{id:"app"}},[s("div",{staticClass:"header"},[t._m(0),s("span",{staticClass:"c-button__control add-tasks",on:{click:t.addTask}},[t._v("+")]),"tasks"===t.view?s("span",{staticClass:"c-button__control export-tasks",on:{click:t.exportTasks}}):t._e(),"timesheet"===t.view?s("span",{staticClass:"c-button__control view-timesheet",on:{click:function(e){t.view="tasks"}}},[t._v("←")]):t._e()]),"tasks"===t.view?s("ul",{staticClass:"day-tabs"},[t._l(t.days,(function(e,a){return s("li",{key:a,staticClass:"day-tab",class:{selected:t.selectedDay==a+1},on:{click:function(e){t.selectedDay=a+1}}},[t._v(" "+t._s(e)+" "),s("span",{staticClass:"totalTime"},[t._v(t._s(t.getDailyTime(a+1)))])])})),s("li",{staticClass:"day-tab"},[s("span",[t._v("Total Time: "+t._s(t.getTotalTime()))])])],2):t._e(),"tasks"===t.view?s("TodoList",{attrs:{tasks:t.tasks,selectedDay:t.selectedDay,taskHeadings:t.taskHeadings}}):t._e(),"timesheet"===t.view?s("Timesheet",{attrs:{tasks:t.tasks,dateCodes:t.dateCodes,timesheet:t.timesheet}}):t._e(),t._m(1)],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("h1",[t._v("Work Tracker")]),s("p",[t._v("Your To-Do list and time tracking simplified")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"copyright"},[t._v("Copyright 2020 "),s("a",{attrs:{href:"https://iliveinaterminal.com"}},[t._v("Mike Conrad")]),t._v(". Part of "),s("a",{attrs:{href:"https://theopensuite.com"}},[t._v("The Open Suite")]),s("a",{staticStyle:{float:"right"},attrs:{href:"https://github.com/enxoco/time-tracker"}},[t._v("Get the code")])])}],o=(s("99af"),s("4de4"),s("4160"),s("c975"),s("d81d"),s("a9e3"),s("d3b7"),s("ac1f"),s("6062"),s("3ca3"),s("1276"),s("159b"),s("ddb0"),s("3835")),c=s("2909"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"task-list"},[s("Modal",{attrs:{active:t.modalActive,pendingDelete:t.pendingDelete},on:{"close-modal":t.closeModal,"confirm-delete":t.deleteTask,"toggle-modal":t.toggleModalSetting}}),t._l(t.pagedTasks,(function(e,a){return s("li",{key:a,staticClass:"task",class:{visible:e.visible},attrs:{"data-index":a}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.item,expression:"task.item"}],staticClass:"client",attrs:{placeholder:"client / project"},domProps:{value:e.item},on:{change:function(e){return t.saveTasks()},keyup:function(e){return t.saveTasks()},input:function(s){s.target.composing||t.$set(e,"item",s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"task.code"}],staticClass:"input-code",attrs:{type:"text",placeholder:"project code"},domProps:{value:e.code},on:{keyup:function(e){return t.saveTasks()},input:function(s){s.target.composing||t.$set(e,"code",s.target.value)}}}),s("input",{staticClass:"input-timer",class:{active:e.active},attrs:{type:"text","data-index":a,"data-elapsed":e.elapsedTime},domProps:{value:t.formattedElapsedTime(a)},on:{change:function(e){return t.convertHourToSeconds(e,a)}}}),s("div",{staticClass:"controls"},[e.active?t._e():s("a",{staticClass:"start-button",class:{active:e.active},on:{click:function(e){return t.start(a)}}}),e.active?s("a",{staticClass:"stop-button",class:{active:e.active},on:{click:function(e){return t.stop(a)}}}):t._e(),s("a",{staticClass:"delete-button",on:{click:function(e){return t.openModal(a)},"confirm-delete":t.deleteTask}})])])})),t.pages>1?s("div",{attrs:{id:"pages"}},t._l(t.pages,(function(e){return s("span",{key:e,class:{active:e==t.currentPage,pagination:e},on:{click:function(s){return t.setCurrentPage(e)}}},[s("a",[t._v(t._s(e))])])})),0):t._e()],2)])},l=[],u=(s("a434"),s("41cf")),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal",class:{active:t.active}},[t._m(0),s("div",{staticClass:"modal-controls"},[s("a",{staticClass:"confirm",on:{click:function(e){return t.$emit("confirm-delete",t.pendingDelete)}}},[t._v("Confirm")]),s("a",{staticClass:"cancel",on:{click:function(e){return t.$emit("close-modal")}}},[t._v("Cancel")])]),s("label",{staticClass:"container"},[t._v(" Don’t show this confirmation in the future "),s("input",{attrs:{type:"checkbox"},on:{click:function(e){return t.$emit("toggle-modal")}}}),s("span",{staticClass:"checkmark"})])])},m=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-heading"},[s("h2",{staticClass:"modal-title"},[t._v("Delete Task?")]),s("p",[t._v("Are you sure you want to delete this task?")]),s("span",[s("small",[t._v("This action cannot be undone")])])])}],f={props:["active","pendingDelete"],data:function(){return{}}},p=f,h=(s("bc5f"),s("2877")),v=Object(h["a"])(p,d,m,!1,null,"3f362ff8",null),g=v.exports,k={name:"TodoList",data:function(){return{modalActive:!1,pendingDelete:null,pageSize:99,currentPage:1,indexOffset:0,dismissModal:!1,selectedTaskId:0,clients:["1st Franklin","Cadence","ES Kluft","Hooters","Hoots","ICOM","Morrison","MYCELX","Palmetto Dunes","Raceway","Tosca","Triad"]}},components:{Modal:g},props:["tasks","selectedDay","taskHeadings"],methods:{saveTasks:function(){var t=JSON.stringify(this.tasks);localStorage.setItem("tasks",t),localStorage.setItem("dismissModal",this.dismissModal),this.pendingDelete=null,this.modalActive=!1},convertHourToSeconds:function(t,e){var s=t.target.value.split(":"),a=Object(o["a"])(s,3),n=a[0],i=a[1],c=a[2],r=60*n*60+60*+i+ +c;this.tasks[e].elapsedTime=+r,this.saveTasks()},formattedElapsedTime:function(t){var e=new Date(null);e.setSeconds(this.tasks[t].elapsedTime);var s=e.toISOString();return s.substr(11,8)},start:function(t){var e=this;1!=this.currentPage&&(t+=this.pageSize*(this.currentPage-1)),this.tasks[t].active||(this.tasks[t].timer=u["setInterval"]((function(){e.tasks[t].elapsedTime+=1,e.saveTasks(),e.getTotalTime()}),1e3),this.tasks[t].active=!0)},stop:function(t){1!=this.currentPage&&(t+=this.pageSize*(this.currentPage-1)),u["clearInterval"](this.tasks[t].timer),this.tasks[t].active=!1,this.saveTasks()},reset:function(t){this.tasks[t].elapsedTime=0,this.tasks[t].active=!1,this.saveTasks()},openModal:function(t){1!=this.currentPage&&(t+=this.pageSize*(this.currentPage-1)),this.pendingDelete=t,!1===this.dismissModal?this.modalActive=!0:this.deleteTask()},deleteTask:function(){this.modalActive=!this.modalActive,this.tasks.splice(this.pendingDelete,1),this.saveTasks()},getTotalTime:function(){var t=this;this.totalTime=0,this.tasks.forEach((function(e){t.totalTime+=e.elapsedTime}));var e=new Date(null);e.setSeconds(this.totalTime/1e3);var s=e.toUTCString();this.totalTime=s.substr(s.indexOf(":")-2,8)},closeModal:function(){console.log("not deleting"),this.modalActive=!this.modalActive},setCurrentPage:function(t){this.currentPage=t},toggleModalSetting:function(){this.dismissModal=!this.dismissModal},getTodaysDate:function(){return console.log("day",new Date),new Date},autoSuggestTask:function(t){""==t.target.value&&(t.target.value=JSON.stringify(this.taskHeadings))}},mounted:function(){localStorage.getItem("dismissModal")?this.dismissModal=!0:this.dismissModal=!1,console.log("dismiss ",this.dismissModal)},computed:{pagedTasks:function(){var t=this.selectedDay,e=new Date,s=e.getDate()-e.getDay()+ +t,a=new Date(e.setDate(s)).toLocaleDateString("en-US").split("/"),n=Object(o["a"])(a,2),i=n[0],c=n[1];return this.tasks.map((function(t){t.date=="".concat(i,"/").concat(c)?t.visible=!0:t.visible=!1})),this.tasks},pages:function(){return Math.ceil(this.tasks.length/this.pageSize)}}},T=k,_=(s("9fab"),Object(h["a"])(T,r,l,!1,null,"43935fe4",null)),y=_.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[t._m(0),s("tbody",t._l(t.timesheet,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(e["name"]))]),s("td",[t._v(t._s(e["code"]))]),s("td",[t._v(t._s(t.getWeeklyTime(e["name"])))]),t._l(t.dateCodes,(function(a,n){return s("td",{key:n},t._l(e["tasks"],(function(e,n){return s("div",{key:n},[e.date==a?s("span",{staticClass:"date-time"},[t._v(t._s(t.roundTime(e.elapsedTime)))]):t._e()])})),0)}))],2)})),0),s("tfoot",[s("tr",[s("td"),s("td"),s("td",[s("strong",[t._v(t._s(t.getTotalTime()))])]),t._l([1,2,3,4,5,6,7],(function(e){return s("td",{key:e},[s("strong",[t._v(t._s(t.getDailyTime(e)))])])}))],2)])])},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("td",[t._v("Client/Project")]),s("td",[t._v("Job #")]),s("td",[t._v("Total Time")]),s("td",[t._v("Mon")]),s("td",[t._v("Tues")]),s("td",[t._v("Wed")]),s("td",[t._v("Thur")]),s("td",[t._v("Fri")]),s("td",[t._v("Sat")]),s("td",[t._v("Sun")])])])}],D={props:["timesheet","dateCodes","tasks"],methods:{getDailyTime:function(t){var e=new Date,s=e.getDate()-e.getDay()+ +t,a=new Date(e.setDate(s)).toLocaleDateString("en-US").split("/"),n=Object(o["a"])(a,2),i=n[0],c=n[1],r=0;return this.tasks.map((function(t){t.date=="".concat(i,"/").concat(c)&&(r+=t.elapsedTime)})),this.roundTime(r)},getTotalTime:function(){var t=0;return this.tasks.map((function(e){t+=e.elapsedTime})),this.secondsToHms(t)},getWeeklyTime:function(t){var e=0;return this.tasks.map((function(s){s.item===t&&(e+=s.elapsedTime)})),this.roundTime(e)},secondsToHms:function(t){t=Number(t);var e=Math.floor(t/3600),s=Math.floor(t%3600/60);return s<15?s=25:s<30?s=50:s<45?s=75:s>45&&s<59&&(e+=1,s="00"),"".concat(e,".").concat(s)},roundTime:function(t){var e=new Date(null);e.setSeconds(t);var s=e.toISOString(),a=s.substr(11,5).split(":"),n=Object(o["a"])(a,2),i=n[0],c=n[1];return i<10&&(i=i.split("")[1]),0==c?"".concat(i):c>1&&c<=15?(c=25,"".concat(i,".").concat(c)):c<=30?(c=5,"".concat(i,".").concat(c)):c<=45?(c=75,"".concat(i,".").concat(c)):(c=0,i+=1,"".concat(i,".").concat(c))}}},w=D,C=(s("8235"),Object(h["a"])(w,b,S,!1,null,"e767c4a0",null)),O=C.exports,M={name:"App",components:{TodoList:y,Timesheet:O},data:function(){return{tasks:[],totalTime:0,days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],selectedDay:2,taskIndex:0,timesheet:[],dateCodes:[],taskHeadings:[],view:"tasks"}},methods:{addTask:function(){this.tasks.push({item:null,timer:0,elapsedTime:0,active:!1,id:this.taskIndex++,date:this.getTimeStamp(),visible:!1,code:null}),this.saveTasks()},exportTasks:function(){var t=this,e=[];this.tasks.map((function(t){e.push(t.date)})),e=Object(c["a"])(new Set(e));var s={};this.taskHeadings.map((function(t){s[t]=[]})),this.tasks.map((function(e){t.taskHeadings.map((function(t){e.item===t&&(s[t]={name:t,code:e.code,dates:[],tasks:[]})}))})),this.taskHeadings.map((function(e){s[e].tasks=t.tasks.filter((function(t){return t.item===e}))})),this.timesheet=null,this.timesheet=s,this.view="timesheet"},saveTasks:function(){var t=JSON.stringify(this.tasks);localStorage.setItem("tasks",t),this.pendingDelete=null,this.modalActive=!1},getTimeStamp:function(){var t=this.selectedDay,e=new Date,s=e.getDate()-e.getDay()+ +t,a=new Date(e.setDate(s)).toLocaleDateString("en-US").split("/"),n=Object(o["a"])(a,2),i=n[0],c=n[1];return"".concat(i,"/").concat(c)},getTotalTime:function(){var t=0;return this.tasks.map((function(e){t+=e.elapsedTime})),this.secondsToHms(t)},getDailyTime:function(t){var e=new Date,s=e.getDate()-e.getDay()+ +t,a=new Date(e.setDate(s)).toLocaleDateString("en-US").split("/"),n=Object(o["a"])(a,2),i=n[0],c=n[1],r=0;this.tasks.map((function(t){t.date=="".concat(i,"/").concat(c)&&(r+=t.elapsedTime)}));var l=new Date(0);return l.setSeconds(+r),"".concat(i,"/").concat(c," - ").concat(l.toISOString().substr(11,5))},getNewTaskIndex:function(){var t=this.tasks[this.tasks.length-1];return t?+t.id++:0},secondsToHms:function(t){t=Number(t);var e=Math.floor(t/3600),s=Math.floor(t%3600/60),a=Math.floor(t%3600%60);return console.log("mlength",s),s<10&&(s="0"+s,console.log("ddy",s)),"".concat(e,":").concat(s,":").concat(a)}},mounted:function(){var t=this;if(localStorage.getItem("tasks"))try{this.tasks=JSON.parse(localStorage.getItem("tasks")),this.totalTime=0,this.tasks.forEach((function(e){t.totalTime+=e.elapsedTime}));var e=new Date(null);e.setSeconds(this.totalTime/1e3);var s=e.toUTCString();this.totalTime=s.substr(s.indexOf(":")-2,8),[1,2,3,4,5,6,7].map((function(e){t.dateCodes.push(t.getDailyTime(e).split(" - ")[0])}))}catch(a){localStorage.removeItem("tasks")}this.getNewTaskIndex()},watch:{tasks:function(){var t=[];this.tasks.map((function(e){t.push(e.item)})),this.taskHeadings=Object(c["a"])(new Set(t))}}},x=M,j=(s("034f"),Object(h["a"])(x,n,i,!1,null,null,null)),P=j.exports,I=s("9483");Object(I["a"])("".concat("/time-tracker/dist/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(P)}}).$mount("#app")},8235:function(t,e,s){"use strict";var a=s("e504"),n=s.n(a);n.a},"85ec":function(t,e,s){},"9fab":function(t,e,s){"use strict";var a=s("a2e8"),n=s.n(a);n.a},a2e8:function(t,e,s){},bc5f:function(t,e,s){"use strict";var a=s("ce1a"),n=s.n(a);n.a},ce1a:function(t,e,s){},e504:function(t,e,s){}});
//# sourceMappingURL=app.223e551c.js.map